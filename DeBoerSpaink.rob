NAME XBOT9001

Bank StartPlus
  SET #Active, 999

  SET #2, 0
  @Loop1
  ADD #2, 1

  ; Maak en activeer nieuwe robot
  CREATE 2, 6, 0
  TRANS 2, 1
  TRANS 3, 2
  TRANS 4, 3
  TRANS 5, 4
  TRANS 6, 5
  TRANS 7, 6
  SET %Active, 1

  ; Draai en herhaal
  TURN 0
  COMP #2, 4
    JUMP @Loop1

  @DeathLoop
  COMP #Active, 999
    JUMP @DeathLoopDone
  JUMP @DeathLoop

  @DeathLoopDone

  SET %Active, 0
  TRANS 6, 1
  SET %Active, 1
  TURN 0
  SET %Active, 0
  TRANS 6, 1
  SET %Active, 1
  TURN 0
  SET %Active, 0
  TRANS 6, 1
  SET %Active, 1
  TURN 0
  SET %Active, 0
  TRANS 6, 1
  SET %Active, 1
  TURN 0

  COMP #Active, 100
    DIE
  SET #Active, 0

Bank Search
  ; Scan vakje
  SCAN #1

  ; Als niet leeg
  COMP #1, 0
    JUMP @NotEmpty
    
  ; Maak en activeer nieuwe robot
  CREATE 2, 6, 0
  TRANS 1, 1
  TRANS 2, 2
  TRANS 3, 3
  TRANS 4, 4
  TRANS 5, 5
  TRANS 6, 6
  SET %Active, 1

  ; Stop
  JUMP @End1

  @NotEmpty

  ; Als zelfde bot
  COMP #1, 1
    JUMP @End1

  ; Injecteer sterf virus
  SET %Active, 0
  TRANS 3, 1
  SET %Active, 3

  ; Infecteer zichzelf
  TURN 0
  TURN 0
  SET %Active, 0
  TRANS 4, 1
  SET %Active, 2
  TURN 0
  TURN 0

  ; Wacht tot vakje leeg is
  @WaitEmpty
  SCAN #1
  COMP #1, 0
    JUMP @WaitEmpty

  ; Maak speciale locate bot
  CREATE 2, 2, 1
  TRANS 2, 1
  TRANS 6, 2
  SET %Active, 1

  ; Sterf
  DIE

  ; Stop deze robot
  @End1
  SET #Active, 0

BANK Locate
  ; Beweeg naar andere core
  COMP #Active, 10
    TURN 0
  
  @GoToCoreLoop
  SCAN #1
  COMP #1, 1
    MOVE
  COMP #1, 1
    JUMP @GoToCoreLoop
    
  TURN 0
  TURN 0
    
  ; Maak 2e locate
  COMP #Active, 1
    JUMP @SkipNewLocate
  CREATE 2, 2, 1
  TRANS 1, 1
  TRANS 2, 2
  SET %Active, 10
  @SkipNewLocate
  
  ; Maak kruis dingen
  TURN 0
  CREATE 2, 1, 1
  TRANS 2, 1
  SET %Active, 1
  
  TURN 1
  CREATE 0, 1, 0
  TRANS 1, 1
  
  ; Stop
  SET #Active, 0

BANK StartDestroyOther
  ; Verwijder naar voren bij de eerste
  COMP #Active, 3
    JUMP @NotFirst
  SET %Active, 0
  TRANS 5, 1
  SET %Active, 2
  SET #Active, 2
  @NotFirst

  ; Draai om
  TURN 0
  TURN 0

  ; Stop als core
  COMP %Active, 999
    JUMP @NotCore1
  SET %Active, 100
  JUMP @End2
  @NotCore1

  ; Injecteer sterf virus
  SET %Active, 0
  TRANS 1, 1
  SET %Active, 2

  ; Sterf
  @End2
  DIE

BANK StartDestroySelf
  ; Draai om
  TURN 0
  TURN 0

  ; Stop als core
  COMP %Active, 999
    JUMP @NotCore2
  SET %Active, 200
  JUMP @End3
  @NotCore2

  ; Injecteer sterf virus
  SET %Active, 0
  TRANS 1, 1
  SET %Active, 2

  ; Sterf
  @End3
  DIE

BANK DestroyForward
  ; Kijk of zelfde
  SCAN #1
  COMP #1, 2
    JUMP @End4

  ; Injecteer sterf virus
  SET %Active, 0
  TRANS 1, 1
  SET %Active, 2

  ; Sterf
  @End4
  DIE
  
BANK MakeCross
  TURN 0
  MOVE
  
  TURN 1
  CREATE 0, 1, 0
  TRANS 1, 1
      
  ; Stop
  SET #Active, 0
  
